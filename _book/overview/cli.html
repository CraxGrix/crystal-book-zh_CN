
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Command Line Application · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../syntax_and_semantics/" />
    
    
    <link rel="prev" href="http_server.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../using_the_compiler/">
            
                <a href="../using_the_compiler/">
            
                    
                    Using the compiler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../the_shards_command/">
            
                <a href="../the_shards_command/">
            
                    
                    The shards command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./">
            
                    
                    概要及示例 Overview and Examples
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="hello_world.html">
            
                <a href="hello_world.html">
            
                    
                    Hello World!
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="http_server.html">
            
                <a href="http_server.html">
            
                    
                    HTTP 服务器
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.3" data-path="cli.html">
            
                <a href="cli.html">
            
                    
                    Command Line Application
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../syntax_and_semantics/">
            
                <a href="../syntax_and_semantics/">
            
                    
                    语法和语义
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../syntax_and_semantics/comments.html">
            
                <a href="../syntax_and_semantics/comments.html">
            
                    
                    注释
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../syntax_and_semantics/literals.html">
            
                <a href="../syntax_and_semantics/literals.html">
            
                    
                    字面量 Literals
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="../syntax_and_semantics/literals/nil.html">
            
                <a href="../syntax_and_semantics/literals/nil.html">
            
                    
                    空值 Nil
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="../syntax_and_semantics/literals/bool.html">
            
                <a href="../syntax_and_semantics/literals/bool.html">
            
                    
                    布尔值 Bool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.3" data-path="../syntax_and_semantics/literals/integers.html">
            
                <a href="../syntax_and_semantics/literals/integers.html">
            
                    
                    整数 Integers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4" data-path="../syntax_and_semantics/literals/floats.html">
            
                <a href="../syntax_and_semantics/literals/floats.html">
            
                    
                    浮点数 Floats
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.5" data-path="../syntax_and_semantics/literals/char.html">
            
                <a href="../syntax_and_semantics/literals/char.html">
            
                    
                    字符型 Char
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6" data-path="../syntax_and_semantics/literals/string.html">
            
                <a href="../syntax_and_semantics/literals/string.html">
            
                    
                    字符串 String
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.7" data-path="../syntax_and_semantics/literals/symbol.html">
            
                <a href="../syntax_and_semantics/literals/symbol.html">
            
                    
                    符号 Symbol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.8" data-path="../syntax_and_semantics/literals/array.html">
            
                <a href="../syntax_and_semantics/literals/array.html">
            
                    
                    数组 Array
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.9" data-path="../syntax_and_semantics/literals/hash.html">
            
                <a href="../syntax_and_semantics/literals/hash.html">
            
                    
                    哈希 Hash
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.10" data-path="../syntax_and_semantics/literals/range.html">
            
                <a href="../syntax_and_semantics/literals/range.html">
            
                    
                    范围 Range
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.11" data-path="../syntax_and_semantics/literals/regex.html">
            
                <a href="../syntax_and_semantics/literals/regex.html">
            
                    
                    正则表达式 Regex
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.12" data-path="../syntax_and_semantics/literals/tuple.html">
            
                <a href="../syntax_and_semantics/literals/tuple.html">
            
                    
                    元组 Tuple
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.13" data-path="../syntax_and_semantics/literals/named_tuple.html">
            
                <a href="../syntax_and_semantics/literals/named_tuple.html">
            
                    
                    命名元组 NamedTuple
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.14" data-path="../syntax_and_semantics/literals/proc.html">
            
                <a href="../syntax_and_semantics/literals/proc.html">
            
                    
                    指针 Proc
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.15" data-path="../syntax_and_semantics/literals/command.html">
            
                <a href="../syntax_and_semantics/literals/command.html">
            
                    
                    Shell 命令 Command
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../syntax_and_semantics/assignment.html">
            
                <a href="../syntax_and_semantics/assignment.html">
            
                    
                    赋值 Assignment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../syntax_and_semantics/local_variables.html">
            
                <a href="../syntax_and_semantics/local_variables.html">
            
                    
                    局部变量 Local variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../syntax_and_semantics/control_expressions.html">
            
                <a href="../syntax_and_semantics/control_expressions.html">
            
                    
                    控制表达式 Control expressions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.1" data-path="../syntax_and_semantics/truthy_and_falsey_values.html">
            
                <a href="../syntax_and_semantics/truthy_and_falsey_values.html">
            
                    
                    Truthy and falsey values
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2" data-path="../syntax_and_semantics/if.html">
            
                <a href="../syntax_and_semantics/if.html">
            
                    
                    if
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.2.1" data-path="../syntax_and_semantics/as_a_suffix.html">
            
                <a href="../syntax_and_semantics/as_a_suffix.html">
            
                    
                    As a suffix
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.2" data-path="../syntax_and_semantics/as_an_expression.html">
            
                <a href="../syntax_and_semantics/as_an_expression.html">
            
                    
                    As an expression
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.3" data-path="../syntax_and_semantics/ternary_if.html">
            
                <a href="../syntax_and_semantics/ternary_if.html">
            
                    
                    Ternary if
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.4" data-path="../syntax_and_semantics/if_var.html">
            
                <a href="../syntax_and_semantics/if_var.html">
            
                    
                    if var
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.5" data-path="../syntax_and_semantics/if_varis_a.html">
            
                <a href="../syntax_and_semantics/if_varis_a.html">
            
                    
                    if var.is_a?(...)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.6" data-path="../syntax_and_semantics/if_varresponds_to.html">
            
                <a href="../syntax_and_semantics/if_varresponds_to.html">
            
                    
                    if var.responds_to?(...)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.7" data-path="../syntax_and_semantics/if_var_nil.html">
            
                <a href="../syntax_and_semantics/if_var_nil.html">
            
                    
                    if var.nil?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.8" data-path="../syntax_and_semantics/not.html">
            
                <a href="../syntax_and_semantics/not.html">
            
                    
                    if !
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5.3" data-path="../syntax_and_semantics/unless.html">
            
                <a href="../syntax_and_semantics/unless.html">
            
                    
                    unless
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.4" data-path="../syntax_and_semantics/case.html">
            
                <a href="../syntax_and_semantics/case.html">
            
                    
                    case
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.5" data-path="../syntax_and_semantics/while.html">
            
                <a href="../syntax_and_semantics/while.html">
            
                    
                    while
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.5.1" data-path="../syntax_and_semantics/break.html">
            
                <a href="../syntax_and_semantics/break.html">
            
                    
                    break
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.5.2" data-path="../syntax_and_semantics/next.html">
            
                <a href="../syntax_and_semantics/next.html">
            
                    
                    next
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5.6" data-path="../syntax_and_semantics/until.html">
            
                <a href="../syntax_and_semantics/until.html">
            
                    
                    until
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.7" data-path="../syntax_and_semantics/and.html">
            
                <a href="../syntax_and_semantics/and.html">
            
                    
                    &&
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.8" data-path="../syntax_and_semantics/or.html">
            
                <a href="../syntax_and_semantics/or.html">
            
                    
                    ||
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../syntax_and_semantics/requiring_files.html">
            
                <a href="../syntax_and_semantics/requiring_files.html">
            
                    
                    Requiring files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../syntax_and_semantics/types_and_methods.html">
            
                <a href="../syntax_and_semantics/types_and_methods.html">
            
                    
                    Types and methods
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.1" data-path="../syntax_and_semantics/everything_is_an_object.html">
            
                <a href="../syntax_and_semantics/everything_is_an_object.html">
            
                    
                    Everything is an object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.2" data-path="../syntax_and_semantics/the_program.html">
            
                <a href="../syntax_and_semantics/the_program.html">
            
                    
                    The Program
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3" data-path="../syntax_and_semantics/classes_and_methods.html">
            
                <a href="../syntax_and_semantics/classes_and_methods.html">
            
                    
                    Classes and methods
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.3.1" data-path="../syntax_and_semantics/new,_initialize_and_allocate.html">
            
                <a href="../syntax_and_semantics/new,_initialize_and_allocate.html">
            
                    
                    new, initialize and allocate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.2" data-path="../syntax_and_semantics/methods_and_instance_variables.html">
            
                <a href="../syntax_and_semantics/methods_and_instance_variables.html">
            
                    
                    Methods and instance variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.3" data-path="../syntax_and_semantics/type_inference.html">
            
                <a href="../syntax_and_semantics/type_inference.html">
            
                    
                    Type inference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.4" data-path="../syntax_and_semantics/union_types.html">
            
                <a href="../syntax_and_semantics/union_types.html">
            
                    
                    Union types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.5" data-path="../syntax_and_semantics/overloading.html">
            
                <a href="../syntax_and_semantics/overloading.html">
            
                    
                    Overloading
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.6" data-path="../syntax_and_semantics/default_and_named_arguments.html">
            
                <a href="../syntax_and_semantics/default_and_named_arguments.html">
            
                    
                    Default values and named arguments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.7" data-path="../syntax_and_semantics/splats_and_tuples.html">
            
                <a href="../syntax_and_semantics/splats_and_tuples.html">
            
                    
                    Splats and tuples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.8" data-path="../syntax_and_semantics/type_restrictions.html">
            
                <a href="../syntax_and_semantics/type_restrictions.html">
            
                    
                    Type restrictions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.9" data-path="../syntax_and_semantics/return_types.html">
            
                <a href="../syntax_and_semantics/return_types.html">
            
                    
                    Return types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.10" data-path="../syntax_and_semantics/default_values_named_arguments_splats_tuples_and_overloading.html">
            
                <a href="../syntax_and_semantics/default_values_named_arguments_splats_tuples_and_overloading.html">
            
                    
                    Method arguments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.11" data-path="../syntax_and_semantics/operators.html">
            
                <a href="../syntax_and_semantics/operators.html">
            
                    
                    Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.12" data-path="../syntax_and_semantics/visibility.html">
            
                <a href="../syntax_and_semantics/visibility.html">
            
                    
                    Visibility
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.13" data-path="../syntax_and_semantics/inheritance.html">
            
                <a href="../syntax_and_semantics/inheritance.html">
            
                    
                    Inheritance
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.3.13.1" data-path="../syntax_and_semantics/virtual_and_abstract_types.html">
            
                <a href="../syntax_and_semantics/virtual_and_abstract_types.html">
            
                    
                    Virtual and abstract types
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.14" data-path="../syntax_and_semantics/class_methods.html">
            
                <a href="../syntax_and_semantics/class_methods.html">
            
                    
                    Class methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.15" data-path="../syntax_and_semantics/class_variables.html">
            
                <a href="../syntax_and_semantics/class_variables.html">
            
                    
                    Class variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.16" data-path="../syntax_and_semantics/finalize.html">
            
                <a href="../syntax_and_semantics/finalize.html">
            
                    
                    finalize
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7.4" data-path="../syntax_and_semantics/modules.html">
            
                <a href="../syntax_and_semantics/modules.html">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.5" data-path="../syntax_and_semantics/generics.html">
            
                <a href="../syntax_and_semantics/generics.html">
            
                    
                    Generics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.6" data-path="../syntax_and_semantics/structs.html">
            
                <a href="../syntax_and_semantics/structs.html">
            
                    
                    Structs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.7" data-path="../syntax_and_semantics/constants.html">
            
                <a href="../syntax_and_semantics/constants.html">
            
                    
                    Constants
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.8" data-path="../syntax_and_semantics/enum.html">
            
                <a href="../syntax_and_semantics/enum.html">
            
                    
                    Enums
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.9" data-path="../syntax_and_semantics/blocks_and_procs.html">
            
                <a href="../syntax_and_semantics/blocks_and_procs.html">
            
                    
                    Blocks and Procs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.9.1" data-path="../syntax_and_semantics/capturing_blocks.html">
            
                <a href="../syntax_and_semantics/capturing_blocks.html">
            
                    
                    Capturing blocks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.9.2" data-path="../syntax_and_semantics/proc_literal.html">
            
                <a href="../syntax_and_semantics/proc_literal.html">
            
                    
                    Proc literal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.9.3" data-path="../syntax_and_semantics/block_forwarding.html">
            
                <a href="../syntax_and_semantics/block_forwarding.html">
            
                    
                    Block forwarding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.9.4" data-path="../syntax_and_semantics/closures.html">
            
                <a href="../syntax_and_semantics/closures.html">
            
                    
                    Closures
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7.10" data-path="../syntax_and_semantics/alias.html">
            
                <a href="../syntax_and_semantics/alias.html">
            
                    
                    alias
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../syntax_and_semantics/exception_handling.html">
            
                <a href="../syntax_and_semantics/exception_handling.html">
            
                    
                    Exception handling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../syntax_and_semantics/type_grammar.html">
            
                <a href="../syntax_and_semantics/type_grammar.html">
            
                    
                    Type grammar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../syntax_and_semantics/type_reflection.html">
            
                <a href="../syntax_and_semantics/type_reflection.html">
            
                    
                    Type reflection
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.10.1" data-path="../syntax_and_semantics/is_a.html">
            
                <a href="../syntax_and_semantics/is_a.html">
            
                    
                    is_a?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10.2" data-path="../syntax_and_semantics/nil_question.html">
            
                <a href="../syntax_and_semantics/nil_question.html">
            
                    
                    nil?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10.3" data-path="../syntax_and_semantics/responds_to.html">
            
                <a href="../syntax_and_semantics/responds_to.html">
            
                    
                    responds_to?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10.4" data-path="../syntax_and_semantics/as.html">
            
                <a href="../syntax_and_semantics/as.html">
            
                    
                    as
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10.5" data-path="../syntax_and_semantics/as_question.html">
            
                <a href="../syntax_and_semantics/as_question.html">
            
                    
                    as?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10.6" data-path="../syntax_and_semantics/typeof.html">
            
                <a href="../syntax_and_semantics/typeof.html">
            
                    
                    typeof
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="../syntax_and_semantics/macros.html">
            
                <a href="../syntax_and_semantics/macros.html">
            
                    
                    Macros
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.11.1" data-path="../syntax_and_semantics/macros/macro_methods.html">
            
                <a href="../syntax_and_semantics/macros/macro_methods.html">
            
                    
                    Macro methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11.2" data-path="../syntax_and_semantics/macros/hooks.html">
            
                <a href="../syntax_and_semantics/macros/hooks.html">
            
                    
                    Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11.3" data-path="../syntax_and_semantics/macros/fresh_variables.html">
            
                <a href="../syntax_and_semantics/macros/fresh_variables.html">
            
                    
                    Fresh variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11.4" data-path="../syntax_and_semantics/annotations/built_in_annotations.html">
            
                <a href="../syntax_and_semantics/annotations/built_in_annotations.html">
            
                    
                    Built-in annotations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.12" data-path="../syntax_and_semantics/low_level_primitives.html">
            
                <a href="../syntax_and_semantics/low_level_primitives.html">
            
                    
                    Low-level primitives
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.12.1" data-path="../syntax_and_semantics/pointerof.html">
            
                <a href="../syntax_and_semantics/pointerof.html">
            
                    
                    pointerof
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12.2" data-path="../syntax_and_semantics/sizeof.html">
            
                <a href="../syntax_and_semantics/sizeof.html">
            
                    
                    sizeof
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12.3" data-path="../syntax_and_semantics/instance_sizeof.html">
            
                <a href="../syntax_and_semantics/instance_sizeof.html">
            
                    
                    instance_sizeof
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12.4" data-path="../syntax_and_semantics/offsetof.html">
            
                <a href="../syntax_and_semantics/offsetof.html">
            
                    
                    offsetof
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12.5" data-path="../syntax_and_semantics/declare_var.html">
            
                <a href="../syntax_and_semantics/declare_var.html">
            
                    
                    Uninitialized variable declaration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.13" data-path="../syntax_and_semantics/compile_time_flags.html">
            
                <a href="../syntax_and_semantics/compile_time_flags.html">
            
                    
                    Compile-time flags
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.13.1" data-path="../syntax_and_semantics/cross-compilation.html">
            
                <a href="../syntax_and_semantics/cross-compilation.html">
            
                    
                    Cross-compilation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.14" data-path="../syntax_and_semantics/c_bindings/">
            
                <a href="../syntax_and_semantics/c_bindings/">
            
                    
                    C bindings
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.14.1" data-path="../syntax_and_semantics/c_bindings/lib.html">
            
                <a href="../syntax_and_semantics/c_bindings/lib.html">
            
                    
                    lib
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14.2" data-path="../syntax_and_semantics/c_bindings/fun.html">
            
                <a href="../syntax_and_semantics/c_bindings/fun.html">
            
                    
                    fun
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.14.2.1" data-path="../syntax_and_semantics/c_bindings/out.html">
            
                <a href="../syntax_and_semantics/c_bindings/out.html">
            
                    
                    out
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14.2.2" data-path="../syntax_and_semantics/c_bindings/to_unsafe.html">
            
                <a href="../syntax_and_semantics/c_bindings/to_unsafe.html">
            
                    
                    to_unsafe
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.14.3" data-path="../syntax_and_semantics/c_bindings/struct.html">
            
                <a href="../syntax_and_semantics/c_bindings/struct.html">
            
                    
                    struct
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14.4" data-path="../syntax_and_semantics/c_bindings/union.html">
            
                <a href="../syntax_and_semantics/c_bindings/union.html">
            
                    
                    union
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14.5" data-path="../syntax_and_semantics/c_bindings/enum.html">
            
                <a href="../syntax_and_semantics/c_bindings/enum.html">
            
                    
                    enum
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14.6" data-path="../syntax_and_semantics/c_bindings/variables.html">
            
                <a href="../syntax_and_semantics/c_bindings/variables.html">
            
                    
                    Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14.7" data-path="../syntax_and_semantics/c_bindings/constants.html">
            
                <a href="../syntax_and_semantics/c_bindings/constants.html">
            
                    
                    Constants
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14.8" data-path="../syntax_and_semantics/c_bindings/type.html">
            
                <a href="../syntax_and_semantics/c_bindings/type.html">
            
                    
                    type
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14.9" data-path="../syntax_and_semantics/c_bindings/alias.html">
            
                <a href="../syntax_and_semantics/c_bindings/alias.html">
            
                    
                    alias
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14.10" data-path="../syntax_and_semantics/c_bindings/callbacks.html">
            
                <a href="../syntax_and_semantics/c_bindings/callbacks.html">
            
                    
                    Callbacks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.15" data-path="../syntax_and_semantics/unsafe.html">
            
                <a href="../syntax_and_semantics/unsafe.html">
            
                    
                    Unsafe code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../conventions/">
            
                <a href="../conventions/">
            
                    
                    Conventions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../conventions/coding_style.html">
            
                <a href="../conventions/coding_style.html">
            
                    
                    Coding style
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../conventions/documenting_code.html">
            
                <a href="../conventions/documenting_code.html">
            
                    
                    Documenting code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../database/">
            
                <a href="../database/">
            
                    
                    Database
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../database/connection.html">
            
                <a href="../database/connection.html">
            
                    
                    Connection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../database/connection_pool.html">
            
                <a href="../database/connection_pool.html">
            
                    
                    Connection pool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../database/transactions.html">
            
                <a href="../database/transactions.html">
            
                    
                    Transactions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../guides/">
            
                <a href="../guides/">
            
                    
                    Guides
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../guides/performance.html">
            
                <a href="../guides/performance.html">
            
                    
                    Performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../guides/concurrency.html">
            
                <a href="../guides/concurrency.html">
            
                    
                    Concurrency
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../guides/testing.html">
            
                <a href="../guides/testing.html">
            
                    
                    Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../guides/writing_shards.html">
            
                <a href="../guides/writing_shards.html">
            
                    
                    Writing Shards
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.4.1" data-path="../guides/hosting/github.html">
            
                <a href="../guides/hosting/github.html">
            
                    
                    Hosting on GitHub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.2" data-path="../guides/hosting/gitlab.html">
            
                <a href="../guides/hosting/gitlab.html">
            
                    
                    Hosting on GitLab
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../guides/continuous_integration.html">
            
                <a href="../guides/continuous_integration.html">
            
                    
                    Continuous Integration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.1" data-path="../guides/ci/travis.html">
            
                <a href="../guides/ci/travis.html">
            
                    
                    Using TravisCI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Command Line Application</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="command-line-interface-application">Command Line Interface Application</h1>
<p>Programming Command Line Interface applications (CLI applications) is one of the most entertaining tasks a developer may do. So let&#x2019;s have some fun building our first CLI application in Crystal.</p>
<p>There are two main topics when building a CLI application:</p>
<ul>
<li><a href="#input">input</a></li>
<li><a href="#output">output</a></li>
</ul>
<h2 id="input">Input</h2>
<p>This topic covers all things related to:</p>
<ul>
<li><a href="#options">options passed to the app</a></li>
<li><a href="#request-for-user-input">request for user input</a></li>
</ul>
<h3 id="options">Options</h3>
<p>It is a very common practice to pass options to the application. For example, we may run <code>crystal -v</code> and Crystal will display:</p>
<pre><code class="lang-shell-session">$ crystal -v
Crystal 0.31.1 (2019-10-02)

LLVM: 8.0.1
Default target: x86_64-apple-macosx
</code></pre>
<p>and if we run: <code>crystal -h</code>, then Crystal will show all the accepted options and how to use them.</p>
<p>So now the question would be: <strong>do we need to implement an options parser?</strong> No need to, Crystal got us covered with the class <code>OptionParser</code>. Let&#x2019;s build an application using this parser!</p>
<p>At start our CLI application will have two options:</p>
<ul>
<li><code>-v</code> / <code>--version</code>: it will display the application version.</li>
<li><code>-h</code> / <code>--help</code>: it will display the application help.</li>
</ul>
<pre><code class="lang-crystal"><span class="hljs-comment"># file: help.cr</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">&quot;option_parser&quot;</span>

OptionParser.parse <span class="hljs-keyword">do</span> |parser|
  parser.banner = <span class="hljs-string">&quot;Welcome to The Beatles App!&quot;</span>

  parser.on <span class="hljs-string">&quot;-v&quot;</span>, <span class="hljs-string">&quot;--version&quot;</span>, <span class="hljs-string">&quot;Show version&quot;</span> <span class="hljs-keyword">do</span>
    puts <span class="hljs-string">&quot;version 1.0&quot;</span>
    exit
  <span class="hljs-keyword">end</span>
  parser.on <span class="hljs-string">&quot;-h&quot;</span>, <span class="hljs-string">&quot;--help&quot;</span>, <span class="hljs-string">&quot;Show help&quot;</span> <span class="hljs-keyword">do</span>
    puts parser
    exit
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>So, how does all this work? Well &#x2026; magic! No, it&#x2019;s not really magic! Just Crystal making our life easy.
When our application starts, the block passed to <code>OptionParser#parse</code> gets executed. In that block we define all the options. After the block is executed, the parser will start consuming the arguments passed to the application, trying to match each one with the options defined by us. If an option matches then the block passed to <code>parser#on</code> gets executed!</p>
<p>We can read all about <code>OptionParser</code> in <a href="https://crystal-lang.org/api/latest/OptionParser.html" target="_blank">the official API documentation</a>. And from there we are one click away from the source code ... the actual proof that it is not magic!</p>
<p>Now, let&apos;s run our application. We have two ways <a href="https://crystal-lang.org/reference/using_the_compiler" target="_blank">using the compiler</a>:</p>
<ol>
<li><a href="https://crystal-lang.org/reference/using_the_compiler/#crystal-build" target="_blank">Build the application</a> and then run it.</li>
<li>Compile and <a href="https://crystal-lang.org/reference/using_the_compiler/#crystal-run" target="_blank">run the application</a>, all in one command.</li>
</ol>
<p>We are going to use the second way:</p>
<pre><code class="lang-shell-session">$ crystal ./help.cr -- -h

Welcome to The Beatles App!
    -v, --version                    Show version
    -h, --help                       Show help
</code></pre>
<p>Let&apos;s build another <em>fabulous</em> application with the following feature:
By default (i.e. no options given) the application will display the names of the Fab Four. But, if we pass the option <code>-t</code> / <code>--twist</code> it will display the names in uppercase:</p>
<pre><code class="lang-crystal"><span class="hljs-comment"># file: twist_and_shout.cr</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">&quot;option_parser&quot;</span>

the_beatles = [
  <span class="hljs-string">&quot;John Lennon&quot;</span>,
  <span class="hljs-string">&quot;Paul McCartney&quot;</span>,
  <span class="hljs-string">&quot;George Harrison&quot;</span>,
  <span class="hljs-string">&quot;Ringo Starr&quot;</span>
]
shout = <span class="hljs-literal">false</span>

option_parser = OptionParser.parse <span class="hljs-keyword">do</span> |parser|
  parser.banner = <span class="hljs-string">&quot;Welcome to The Beatles App!&quot;</span>

  parser.on <span class="hljs-string">&quot;-v&quot;</span>, <span class="hljs-string">&quot;--version&quot;</span>, <span class="hljs-string">&quot;Show version&quot;</span> <span class="hljs-keyword">do</span>
    puts <span class="hljs-string">&quot;version 1.0&quot;</span>
    exit
  <span class="hljs-keyword">end</span>
  parser.on <span class="hljs-string">&quot;-h&quot;</span>, <span class="hljs-string">&quot;--help&quot;</span>, <span class="hljs-string">&quot;Show help&quot;</span> <span class="hljs-keyword">do</span>
    puts parser
    exit
  <span class="hljs-keyword">end</span>
  parser.on <span class="hljs-string">&quot;-t&quot;</span>, <span class="hljs-string">&quot;--twist&quot;</span>, <span class="hljs-string">&quot;Twist and SHOUT&quot;</span> <span class="hljs-keyword">do</span>
    shout = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

members = the_beatles
members = the_beatles.map &amp;.upcase <span class="hljs-keyword">if</span> shout

puts <span class="hljs-string">&quot;&quot;</span>
puts <span class="hljs-string">&quot;Group members:&quot;</span>
puts <span class="hljs-string">&quot;==============&quot;</span>
members.each <span class="hljs-keyword">do</span> |member|
  puts member
<span class="hljs-keyword">end</span>
</code></pre>
<p>Running the application with the <code>-t</code> option will output:</p>
<pre><code class="lang-shell-session">$ crystal run ./twist_and_shout.cr -- -t

Group members:
==============
JOHN LENNON
PAUL MCCARTNEY
GEORGE HARRISON
RINGO STARR
</code></pre>
<h4 id="parameterized-options">Parameterized options</h4>
<p>Let&#x2019;s create another application: <em>when passing the option <code>-g</code> / <code>--goodbye_hello</code>, the application will say hello to a given name <strong>passed as a parameter to the option</strong></em>.</p>
<pre><code class="lang-crystal"><span class="hljs-comment"># file: hello_goodbye.cr</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">&quot;option_parser&quot;</span>

the_beatles = [
  <span class="hljs-string">&quot;John Lennon&quot;</span>,
  <span class="hljs-string">&quot;Paul McCartney&quot;</span>,
  <span class="hljs-string">&quot;George Harrison&quot;</span>,
  <span class="hljs-string">&quot;Ringo Starr&quot;</span>
]
say_hi_to = <span class="hljs-string">&quot;&quot;</span>

option_parser = OptionParser.parse <span class="hljs-keyword">do</span> |parser|
  parser.banner = <span class="hljs-string">&quot;Welcome to The Beatles App!&quot;</span>

  parser.on <span class="hljs-string">&quot;-v&quot;</span>, <span class="hljs-string">&quot;--version&quot;</span>, <span class="hljs-string">&quot;Show version&quot;</span> <span class="hljs-keyword">do</span>
    puts <span class="hljs-string">&quot;version 1.0&quot;</span>
    exit
  <span class="hljs-keyword">end</span>
  parser.on <span class="hljs-string">&quot;-h&quot;</span>, <span class="hljs-string">&quot;--help&quot;</span>, <span class="hljs-string">&quot;Show help&quot;</span> <span class="hljs-keyword">do</span>
    puts parser
    exit
  <span class="hljs-keyword">end</span>
  parser.on <span class="hljs-string">&quot;-g NAME&quot;</span>, <span class="hljs-string">&quot;--goodbye_hello=NAME&quot;</span>, <span class="hljs-string">&quot;Say hello to whoever you want&quot;</span> <span class="hljs-keyword">do</span> |name|
    say_hi_to = name
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">unless</span> say_hi_to.empty?
  puts <span class="hljs-string">&quot;&quot;</span>
  puts <span class="hljs-string">&quot;You say goodbye, and <span class="hljs-subst">#{the_beatles[Random.new.rand(<span class="hljs-number">4</span>)]}</span> says hello to <span class="hljs-subst">#{say_hi_to}</span>!&quot;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>In this case, the block receives a parameter that represents the parameter passed to the option.</p>
<p>Let&#x2019;s try it!</p>
<pre><code class="lang-shell-session">$ crystal ./hello_goodbye.cr -- -g &quot;Penny Lane&quot;

You say goodbye, and Ringo Starr say hello to Penny Lane!
</code></pre>
<p>Great! These applications look awesome! But, <strong>what happens when we pass an option that is not declared?</strong> For example -n</p>
<pre><code class="lang-shell-session">$ crystal ./hello_goodbye.cr -- -n
Unhandled exception: Invalid option: -n (OptionParser::InvalidOption)
  from ...
</code></pre>
<p>Oh no! It&#x2019;s broken: we need to handle <strong>invalid options</strong> and <strong>invalid parameters</strong> given to an option! For these two situations, the <code>OptionParser</code> class has two methods: <code>#invalid_option</code> and <code>#missing_option</code></p>
<p>So, let&apos;s add this option handlers and merge all this CLI applications into one fabulous CLI application!</p>
<h4 id="all-my-cli-the-complete-application">All My CLI: The complete application!</h4>
<p>Here&#x2019;s the final result, with invalid/missing options handling, plus other new options:</p>
<pre><code class="lang-crystal"><span class="hljs-comment"># file: all_my_cli.cr</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">&quot;option_parser&quot;</span>

the_beatles = [
  <span class="hljs-string">&quot;John Lennon&quot;</span>,
  <span class="hljs-string">&quot;Paul McCartney&quot;</span>,
  <span class="hljs-string">&quot;George Harrison&quot;</span>,
  <span class="hljs-string">&quot;Ringo Starr&quot;</span>
]
shout = <span class="hljs-literal">false</span>
say_hi_to = <span class="hljs-string">&quot;&quot;</span>
strawberry = <span class="hljs-literal">false</span>

option_parser = OptionParser.parse <span class="hljs-keyword">do</span> |parser|
  parser.banner = <span class="hljs-string">&quot;Welcome to The Beatles App!&quot;</span>

  parser.on <span class="hljs-string">&quot;-v&quot;</span>, <span class="hljs-string">&quot;--version&quot;</span>, <span class="hljs-string">&quot;Show version&quot;</span> <span class="hljs-keyword">do</span>
    puts <span class="hljs-string">&quot;version 1.0&quot;</span>
    exit
  <span class="hljs-keyword">end</span>
  parser.on <span class="hljs-string">&quot;-h&quot;</span>, <span class="hljs-string">&quot;--help&quot;</span>, <span class="hljs-string">&quot;Show help&quot;</span> <span class="hljs-keyword">do</span>
    puts parser
    exit
  <span class="hljs-keyword">end</span>
  parser.on <span class="hljs-string">&quot;-t&quot;</span>, <span class="hljs-string">&quot;--twist&quot;</span>, <span class="hljs-string">&quot;Twist and SHOUT&quot;</span> <span class="hljs-keyword">do</span>
    shout = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">end</span>
  parser.on <span class="hljs-string">&quot;-g NAME&quot;</span>, <span class="hljs-string">&quot;--goodbye_hello=NAME&quot;</span>, <span class="hljs-string">&quot;Say hello to whoever you want&quot;</span> <span class="hljs-keyword">do</span> |name|
    say_hi_to = name
  <span class="hljs-keyword">end</span>
  parser.on <span class="hljs-string">&quot;-r&quot;</span>, <span class="hljs-string">&quot;--random_goodbye_hello&quot;</span>, <span class="hljs-string">&quot;Say hello to one random member&quot;</span> <span class="hljs-keyword">do</span>
    say_hi_to = the_beatles[Random.new.rand(<span class="hljs-number">4</span>)]
  <span class="hljs-keyword">end</span>
  parser.on <span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;--strawberry&quot;</span>, <span class="hljs-string">&quot;Strawberry fields forever mode ON&quot;</span> <span class="hljs-keyword">do</span>
    strawberry = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">end</span>
  parser.missing_option <span class="hljs-keyword">do</span> |option_flag|
    STDERR.puts <span class="hljs-string">&quot;ERROR: <span class="hljs-subst">#{option_flag}</span> is missing something.&quot;</span>
    STDERR.puts <span class="hljs-string">&quot;&quot;</span>
    STDERR.puts parser
    exit(<span class="hljs-number">1</span>)
  <span class="hljs-keyword">end</span>
  parser.invalid_option <span class="hljs-keyword">do</span> |option_flag|
    STDERR.puts <span class="hljs-string">&quot;ERROR: <span class="hljs-subst">#{option_flag}</span> is not a valid option.&quot;</span>
    STDERR.puts parser
    exit(<span class="hljs-number">1</span>)
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

members = the_beatles
members = the_beatles.map &amp;.upcase <span class="hljs-keyword">if</span> shout

puts <span class="hljs-string">&quot;Strawberry fields forever mode ON&quot;</span> <span class="hljs-keyword">if</span> strawberry

puts <span class="hljs-string">&quot;&quot;</span>
puts <span class="hljs-string">&quot;Group members:&quot;</span>
puts <span class="hljs-string">&quot;==============&quot;</span>
members.each <span class="hljs-keyword">do</span> |member|
  puts <span class="hljs-string">&quot;<span class="hljs-subst">#{strawberry ? <span class="hljs-string">&quot;&#x1F353;&quot;</span> : <span class="hljs-string">&quot;-&quot;</span>}</span> <span class="hljs-subst">#{member}</span>&quot;</span>
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">unless</span> say_hi_to.empty?
  puts <span class="hljs-string">&quot;&quot;</span>
  puts <span class="hljs-string">&quot;You say goodbye, and I say hello to <span class="hljs-subst">#{say_hi_to}</span>!&quot;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h3 id="request-for-user-input">Request for user input</h3>
<p>Sometimes, we may need the user to input a value. How do we <em>read</em> that value?
Easy, peasy! Let&#x2019;s create a new application: the Fab Four will sing with us any phrase we want. When running the application, it will request a phrase to the user and the magic will happen!</p>
<pre><code class="lang-crystal"><span class="hljs-comment"># file: let_it_cli.cr</span>
puts <span class="hljs-string">&quot;Welcome to The Beatles Sing Along version 1.0!&quot;</span>
puts <span class="hljs-string">&quot;Enter a phrase you want The Beatles to sing&quot;</span>
print <span class="hljs-string">&quot;&gt; &quot;</span>
user_input = gets
puts <span class="hljs-string">&quot;The Beatles are singing: &#x1F3B5;<span class="hljs-subst">#{user_input}</span>&#x1F3B6;&#x1F3B8;&#x1F941;&quot;</span>
</code></pre>
<p>The method <a href="https://crystal-lang.org/api/latest/toplevel.html#gets%28*args,**options%29-class-method" target="_blank"><code>gets</code></a> will <strong>pause</strong> the execution of the application, until the user finishes entering the input (pressing the <code>Enter</code> key).
When the user presses <code>Enter</code>, then the execution will continue and <code>user_input</code> will have the user value.</p>
<p>But what happen if the user doesn&#x2019;t enter any value? In that case, we would get an empty string (if the user only presses <code>Enter</code>) or maybe a <code>Nil</code> value (if the input stream id closed, e.g. by pressing <code>Ctrl+D</code>).
To illustrate the problem let&#x2019;s try the following: we want the input entered by the user to be sang loudly:</p>
<pre><code class="lang-crystal"><span class="hljs-comment"># file: let_it_cli.cr</span>
puts <span class="hljs-string">&quot;Welcome to The Beatles Sing Along version 1.0!&quot;</span>
puts <span class="hljs-string">&quot;Enter a phrase you want The Beatles to sing&quot;</span>
print <span class="hljs-string">&quot;&gt; &quot;</span>
user_input = gets
puts <span class="hljs-string">&quot;The Beatles are singing: &#x1F3B5;<span class="hljs-subst">#{user_input.upcase}</span>&#x1F3B6;&#x1F3B8;&#x1F941;&quot;</span>
</code></pre>
<p>When running the example, Crystal will reply:</p>
<pre><code class="lang-shell-session">$ crystal ./let_it_cli.cr
Showing last frame. Use --error-trace for full trace.

In let_it_cli.cr:5:46

 5 | puts &quot;The Beatles are singing: &#x1F3B5;#{user_input.upper_case}
                                                  ^---------
Error: undefined method &apos;upper_case&apos; for Nil (compile-time type is (String | Nil))
</code></pre>
<p>Ah! We should have known better: the type of the user input is the <a href="https://crystal-lang.org/reference/syntax_and_semantics/type_grammar.html" target="_blank">union type</a> <code>String | Nil</code>.
So, we have to test for <code>Nil</code> and for <code>empty</code> and act naturally for each case:</p>
<pre><code class="lang-crystal"><span class="hljs-comment"># file: let_it_cli.cr</span>
puts <span class="hljs-string">&quot;Welcome to The Beatles Sing Along version 1.0!&quot;</span>
puts <span class="hljs-string">&quot;Enter a phrase you want The Beatles to sing&quot;</span>
print <span class="hljs-string">&quot;&gt; &quot;</span>
user_input = gets

exit <span class="hljs-keyword">if</span> user_input.nil? <span class="hljs-comment"># Ctrl+D</span>

default_lyrics = <span class="hljs-string">&quot;Na, na, na, na-na-na na&quot;</span> \
                 <span class="hljs-string">&quot; / &quot;</span> \
                 <span class="hljs-string">&quot;Na-na-na na, hey Jude&quot;</span>

lyrics = user_input.presence || default_lyrics

puts <span class="hljs-string">&quot;The Beatles are singing: &#x1F3B5;<span class="hljs-subst">#{lyrics.upcase}</span>&#x1F3B6;&#x1F3B8;&#x1F941;&quot;</span>
</code></pre>
<h2 id="output">Output</h2>
<p>Now, we will focus on the second main topic: our application&#x2019;s output.
For starters, our applications already display information but (I think) we could do better. Let&#x2019;s add more <em>life</em> (i.e. colors!) to the outputs.</p>
<p>And to accomplish this, we will be using the <a href="https://crystal-lang.org/api/latest/Colorize.html" target="_blank"><code>Colorize</code></a> module.</p>
<p>Let&#x2019;s build a really simple application that shows a string with colors! We will use yellow font on a black background:</p>
<pre><code class="lang-crystal"><span class="hljs-comment"># file: yellow_cli.cr</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">&quot;colorize&quot;</span>

puts <span class="hljs-string">&quot;<span class="hljs-subst">#{<span class="hljs-string">&quot;The Beatles&quot;</span>.colorize(:yellow).on(:black)}</span> App&quot;</span>
</code></pre>
<p>Great! That was easy! Now imagine using this string as the banner for our All My CLI application, it&apos;s easy if you try:</p>
<pre><code class="lang-crystal">  parser.banner = <span class="hljs-string">&quot;<span class="hljs-subst">#{<span class="hljs-string">&quot;The Beatles&quot;</span>.colorize(:yellow).on(:black)}</span> App&quot;</span>
</code></pre>
<p>For our second application, we will add a <em>text decoration</em> (<code>blink</code>in this case):</p>
<pre><code class="lang-crystal"><span class="hljs-comment"># file: let_it_cli.cr</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">&quot;colorize&quot;</span>

puts <span class="hljs-string">&quot;Welcome to The Beatles Sing Along version 1.0!&quot;</span>
puts <span class="hljs-string">&quot;Enter a phrase you want The Beatles to sing&quot;</span>
print <span class="hljs-string">&quot;&gt; &quot;</span>
user_input = gets

exit <span class="hljs-keyword">if</span> user_input.nil? <span class="hljs-comment"># Ctrl+D</span>

default_lyrics = <span class="hljs-string">&quot;Na, na, na, na-na-na na&quot;</span> \
                 <span class="hljs-string">&quot; / &quot;</span> \
                 <span class="hljs-string">&quot;Na-na-na na, hey Jude&quot;</span>

lyrics = user_input.presence || default_lyrics

puts <span class="hljs-string">&quot;The Beatles are singing: <span class="hljs-subst">#{<span class="hljs-string">&quot;&#x1F3B5;<span class="hljs-subst">#{user_input}</span>&#x1F3B6;&#x1F3B8;&#x1F941;&quot;</span>.colorize.mode(:blink)}</span>&quot;</span>
</code></pre>
<p>Let&#x2019;s try the renewed application &#x2026; and <em>hear</em> the difference!!
<strong>Now</strong> we have two fabulous apps!!</p>
<p>You may find a list of <strong>available colors</strong> and <strong>text decorations</strong> in the <a href="https://crystal-lang.org/api/latest/Colorize.html" target="_blank">API documentation</a>.</p>
<h2 id="testing">Testing</h2>
<p>As with any other application, at some point we would like to <a href="https://crystal-lang.org/reference/guides/testing.html" target="_blank">write tests</a> for the different features.</p>
<p>Right now the code containing the logic of each of the applications always gets executed with the <code>OptionParser</code>, i.e. there is no way to include that file without running the whole application. So first we would need to refactor the code, separating the code necessary for parsing options from the logic. Once the refactor is done, we could start testing the logic and including the file with the logic in the testing files we need. We leave this as an exercise for the reader.</p>
<h2 id="using-readline-and-ncurses">Using <code>Readline</code> and <code>NCurses</code></h2>
<p>In case we want to build richer CLI applications, there are libraries that can help us. Here we will name two well-known libraries: <code>Readline</code> and<code>NCurses</code>.</p>
<p>As stated in the documentation for the <a href="http://www.gnu.org/software/readline/" target="_blank">GNU Readline Library</a>, <code>Readline</code> is a library that provides a set of functions for use by applications that allow users to edit command lines as they are typed in.
<code>Readline</code> has some great features: filename autocompletion out of the box; custom autocompletion method; keybinding, just to mention a few. If we want to try it then the <a href="https://github.com/crystal-lang/crystal-readline" target="_blank">crystal-lang/crystal-readline</a> shard will give us an easy API to use <code>Readline</code>.</p>
<p>On the other hand, we have <code>NCurses</code>(New Curses). This library allows developers to create <em>graphical</em> user interfaces in the terminal. As its name implies, it is an improved version of the library named <code>Curses</code>, which was developed to support a text-based dungeon-crawling adventure game called Rogue!
As you can imagine, there are already <a href="https://crystalshards.org/?filter=ncurses" target="_blank">a couple of shards</a> in the ecosystem that will allow us to use <code>NCurses</code> in Crystal!</p>
<p>And so we have reached The End &#x1F60E;&#x1F3B6;</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="http_server.html" class="navigation navigation-prev " aria-label="Previous page: HTTP 服务器">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../syntax_and_semantics/" class="navigation navigation-next " aria-label="Next page: 语法和语义">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Command Line Application","level":"1.4.3","depth":2,"next":{"title":"语法和语义","level":"1.5","depth":1,"path":"syntax_and_semantics/README.md","ref":"syntax_and_semantics/README.md","articles":[{"title":"注释","level":"1.5.1","depth":2,"path":"syntax_and_semantics/comments.md","ref":"syntax_and_semantics/comments.md","articles":[]},{"title":"字面量 Literals","level":"1.5.2","depth":2,"path":"syntax_and_semantics/literals.md","ref":"syntax_and_semantics/literals.md","articles":[{"title":"空值 Nil","level":"1.5.2.1","depth":3,"path":"syntax_and_semantics/literals/nil.md","ref":"syntax_and_semantics/literals/nil.md","articles":[]},{"title":"布尔值 Bool","level":"1.5.2.2","depth":3,"path":"syntax_and_semantics/literals/bool.md","ref":"syntax_and_semantics/literals/bool.md","articles":[]},{"title":"整数 Integers","level":"1.5.2.3","depth":3,"path":"syntax_and_semantics/literals/integers.md","ref":"syntax_and_semantics/literals/integers.md","articles":[]},{"title":"浮点数 Floats","level":"1.5.2.4","depth":3,"path":"syntax_and_semantics/literals/floats.md","ref":"syntax_and_semantics/literals/floats.md","articles":[]},{"title":"字符型 Char","level":"1.5.2.5","depth":3,"path":"syntax_and_semantics/literals/char.md","ref":"syntax_and_semantics/literals/char.md","articles":[]},{"title":"字符串 String","level":"1.5.2.6","depth":3,"path":"syntax_and_semantics/literals/string.md","ref":"syntax_and_semantics/literals/string.md","articles":[]},{"title":"符号 Symbol","level":"1.5.2.7","depth":3,"path":"syntax_and_semantics/literals/symbol.md","ref":"syntax_and_semantics/literals/symbol.md","articles":[]},{"title":"数组 Array","level":"1.5.2.8","depth":3,"path":"syntax_and_semantics/literals/array.md","ref":"syntax_and_semantics/literals/array.md","articles":[]},{"title":"哈希 Hash","level":"1.5.2.9","depth":3,"path":"syntax_and_semantics/literals/hash.md","ref":"syntax_and_semantics/literals/hash.md","articles":[]},{"title":"范围 Range","level":"1.5.2.10","depth":3,"path":"syntax_and_semantics/literals/range.md","ref":"syntax_and_semantics/literals/range.md","articles":[]},{"title":"正则表达式 Regex","level":"1.5.2.11","depth":3,"path":"syntax_and_semantics/literals/regex.md","ref":"syntax_and_semantics/literals/regex.md","articles":[]},{"title":"元组 Tuple","level":"1.5.2.12","depth":3,"path":"syntax_and_semantics/literals/tuple.md","ref":"syntax_and_semantics/literals/tuple.md","articles":[]},{"title":"命名元组 NamedTuple","level":"1.5.2.13","depth":3,"path":"syntax_and_semantics/literals/named_tuple.md","ref":"syntax_and_semantics/literals/named_tuple.md","articles":[]},{"title":"指针 Proc","level":"1.5.2.14","depth":3,"path":"syntax_and_semantics/literals/proc.md","ref":"syntax_and_semantics/literals/proc.md","articles":[]},{"title":"Shell 命令 Command","level":"1.5.2.15","depth":3,"path":"syntax_and_semantics/literals/command.md","ref":"syntax_and_semantics/literals/command.md","articles":[]}]},{"title":"赋值 Assignment","level":"1.5.3","depth":2,"path":"syntax_and_semantics/assignment.md","ref":"syntax_and_semantics/assignment.md","articles":[]},{"title":"局部变量 Local variables","level":"1.5.4","depth":2,"path":"syntax_and_semantics/local_variables.md","ref":"syntax_and_semantics/local_variables.md","articles":[]},{"title":"控制表达式 Control expressions","level":"1.5.5","depth":2,"path":"syntax_and_semantics/control_expressions.md","ref":"syntax_and_semantics/control_expressions.md","articles":[{"title":"Truthy and falsey values","level":"1.5.5.1","depth":3,"path":"syntax_and_semantics/truthy_and_falsey_values.md","ref":"syntax_and_semantics/truthy_and_falsey_values.md","articles":[]},{"title":"if","level":"1.5.5.2","depth":3,"path":"syntax_and_semantics/if.md","ref":"syntax_and_semantics/if.md","articles":[{"title":"As a suffix","level":"1.5.5.2.1","depth":4,"path":"syntax_and_semantics/as_a_suffix.md","ref":"syntax_and_semantics/as_a_suffix.md","articles":[]},{"title":"As an expression","level":"1.5.5.2.2","depth":4,"path":"syntax_and_semantics/as_an_expression.md","ref":"syntax_and_semantics/as_an_expression.md","articles":[]},{"title":"Ternary if","level":"1.5.5.2.3","depth":4,"path":"syntax_and_semantics/ternary_if.md","ref":"syntax_and_semantics/ternary_if.md","articles":[]},{"title":"if var","level":"1.5.5.2.4","depth":4,"path":"syntax_and_semantics/if_var.md","ref":"syntax_and_semantics/if_var.md","articles":[]},{"title":"if var.is_a?(...)","level":"1.5.5.2.5","depth":4,"path":"syntax_and_semantics/if_varis_a.md","ref":"syntax_and_semantics/if_varis_a.md","articles":[]},{"title":"if var.responds_to?(...)","level":"1.5.5.2.6","depth":4,"path":"syntax_and_semantics/if_varresponds_to.md","ref":"syntax_and_semantics/if_varresponds_to.md","articles":[]},{"title":"if var.nil?","level":"1.5.5.2.7","depth":4,"path":"syntax_and_semantics/if_var_nil.md","ref":"syntax_and_semantics/if_var_nil.md","articles":[]},{"title":"if !","level":"1.5.5.2.8","depth":4,"path":"syntax_and_semantics/not.md","ref":"syntax_and_semantics/not.md","articles":[]}]},{"title":"unless","level":"1.5.5.3","depth":3,"path":"syntax_and_semantics/unless.md","ref":"syntax_and_semantics/unless.md","articles":[]},{"title":"case","level":"1.5.5.4","depth":3,"path":"syntax_and_semantics/case.md","ref":"syntax_and_semantics/case.md","articles":[]},{"title":"while","level":"1.5.5.5","depth":3,"path":"syntax_and_semantics/while.md","ref":"syntax_and_semantics/while.md","articles":[{"title":"break","level":"1.5.5.5.1","depth":4,"path":"syntax_and_semantics/break.md","ref":"syntax_and_semantics/break.md","articles":[]},{"title":"next","level":"1.5.5.5.2","depth":4,"path":"syntax_and_semantics/next.md","ref":"syntax_and_semantics/next.md","articles":[]}]},{"title":"until","level":"1.5.5.6","depth":3,"path":"syntax_and_semantics/until.md","ref":"syntax_and_semantics/until.md","articles":[]},{"title":"&&","level":"1.5.5.7","depth":3,"path":"syntax_and_semantics/and.md","ref":"syntax_and_semantics/and.md","articles":[]},{"title":"||","level":"1.5.5.8","depth":3,"path":"syntax_and_semantics/or.md","ref":"syntax_and_semantics/or.md","articles":[]}]},{"title":"Requiring files","level":"1.5.6","depth":2,"path":"syntax_and_semantics/requiring_files.md","ref":"syntax_and_semantics/requiring_files.md","articles":[]},{"title":"Types and methods","level":"1.5.7","depth":2,"path":"syntax_and_semantics/types_and_methods.md","ref":"syntax_and_semantics/types_and_methods.md","articles":[{"title":"Everything is an object","level":"1.5.7.1","depth":3,"path":"syntax_and_semantics/everything_is_an_object.md","ref":"syntax_and_semantics/everything_is_an_object.md","articles":[]},{"title":"The Program","level":"1.5.7.2","depth":3,"path":"syntax_and_semantics/the_program.md","ref":"syntax_and_semantics/the_program.md","articles":[]},{"title":"Classes and methods","level":"1.5.7.3","depth":3,"path":"syntax_and_semantics/classes_and_methods.md","ref":"syntax_and_semantics/classes_and_methods.md","articles":[{"title":"new, initialize and allocate","level":"1.5.7.3.1","depth":4,"path":"syntax_and_semantics/new,_initialize_and_allocate.md","ref":"syntax_and_semantics/new,_initialize_and_allocate.md","articles":[]},{"title":"Methods and instance variables","level":"1.5.7.3.2","depth":4,"path":"syntax_and_semantics/methods_and_instance_variables.md","ref":"syntax_and_semantics/methods_and_instance_variables.md","articles":[]},{"title":"Type inference","level":"1.5.7.3.3","depth":4,"path":"syntax_and_semantics/type_inference.md","ref":"syntax_and_semantics/type_inference.md","articles":[]},{"title":"Union types","level":"1.5.7.3.4","depth":4,"path":"syntax_and_semantics/union_types.md","ref":"syntax_and_semantics/union_types.md","articles":[]},{"title":"Overloading","level":"1.5.7.3.5","depth":4,"path":"syntax_and_semantics/overloading.md","ref":"syntax_and_semantics/overloading.md","articles":[]},{"title":"Default values and named arguments","level":"1.5.7.3.6","depth":4,"path":"syntax_and_semantics/default_and_named_arguments.md","ref":"syntax_and_semantics/default_and_named_arguments.md","articles":[]},{"title":"Splats and tuples","level":"1.5.7.3.7","depth":4,"path":"syntax_and_semantics/splats_and_tuples.md","ref":"syntax_and_semantics/splats_and_tuples.md","articles":[]},{"title":"Type restrictions","level":"1.5.7.3.8","depth":4,"path":"syntax_and_semantics/type_restrictions.md","ref":"syntax_and_semantics/type_restrictions.md","articles":[]},{"title":"Return types","level":"1.5.7.3.9","depth":4,"path":"syntax_and_semantics/return_types.md","ref":"syntax_and_semantics/return_types.md","articles":[]},{"title":"Method arguments","level":"1.5.7.3.10","depth":4,"path":"syntax_and_semantics/default_values_named_arguments_splats_tuples_and_overloading.md","ref":"syntax_and_semantics/default_values_named_arguments_splats_tuples_and_overloading.md","articles":[]},{"title":"Operators","level":"1.5.7.3.11","depth":4,"path":"syntax_and_semantics/operators.md","ref":"syntax_and_semantics/operators.md","articles":[]},{"title":"Visibility","level":"1.5.7.3.12","depth":4,"path":"syntax_and_semantics/visibility.md","ref":"syntax_and_semantics/visibility.md","articles":[]},{"title":"Inheritance","level":"1.5.7.3.13","depth":4,"path":"syntax_and_semantics/inheritance.md","ref":"syntax_and_semantics/inheritance.md","articles":[{"title":"Virtual and abstract types","level":"1.5.7.3.13.1","depth":5,"path":"syntax_and_semantics/virtual_and_abstract_types.md","ref":"syntax_and_semantics/virtual_and_abstract_types.md","articles":[]}]},{"title":"Class methods","level":"1.5.7.3.14","depth":4,"path":"syntax_and_semantics/class_methods.md","ref":"syntax_and_semantics/class_methods.md","articles":[]},{"title":"Class variables","level":"1.5.7.3.15","depth":4,"path":"syntax_and_semantics/class_variables.md","ref":"syntax_and_semantics/class_variables.md","articles":[]},{"title":"finalize","level":"1.5.7.3.16","depth":4,"path":"syntax_and_semantics/finalize.md","ref":"syntax_and_semantics/finalize.md","articles":[]}]},{"title":"Modules","level":"1.5.7.4","depth":3,"path":"syntax_and_semantics/modules.md","ref":"syntax_and_semantics/modules.md","articles":[]},{"title":"Generics","level":"1.5.7.5","depth":3,"path":"syntax_and_semantics/generics.md","ref":"syntax_and_semantics/generics.md","articles":[]},{"title":"Structs","level":"1.5.7.6","depth":3,"path":"syntax_and_semantics/structs.md","ref":"syntax_and_semantics/structs.md","articles":[]},{"title":"Constants","level":"1.5.7.7","depth":3,"path":"syntax_and_semantics/constants.md","ref":"syntax_and_semantics/constants.md","articles":[]},{"title":"Enums","level":"1.5.7.8","depth":3,"path":"syntax_and_semantics/enum.md","ref":"syntax_and_semantics/enum.md","articles":[]},{"title":"Blocks and Procs","level":"1.5.7.9","depth":3,"path":"syntax_and_semantics/blocks_and_procs.md","ref":"syntax_and_semantics/blocks_and_procs.md","articles":[{"title":"Capturing blocks","level":"1.5.7.9.1","depth":4,"path":"syntax_and_semantics/capturing_blocks.md","ref":"syntax_and_semantics/capturing_blocks.md","articles":[]},{"title":"Proc literal","level":"1.5.7.9.2","depth":4,"path":"syntax_and_semantics/proc_literal.md","ref":"syntax_and_semantics/proc_literal.md","articles":[]},{"title":"Block forwarding","level":"1.5.7.9.3","depth":4,"path":"syntax_and_semantics/block_forwarding.md","ref":"syntax_and_semantics/block_forwarding.md","articles":[]},{"title":"Closures","level":"1.5.7.9.4","depth":4,"path":"syntax_and_semantics/closures.md","ref":"syntax_and_semantics/closures.md","articles":[]}]},{"title":"alias","level":"1.5.7.10","depth":3,"path":"syntax_and_semantics/alias.md","ref":"syntax_and_semantics/alias.md","articles":[]}]},{"title":"Exception handling","level":"1.5.8","depth":2,"path":"syntax_and_semantics/exception_handling.md","ref":"syntax_and_semantics/exception_handling.md","articles":[]},{"title":"Type grammar","level":"1.5.9","depth":2,"path":"syntax_and_semantics/type_grammar.md","ref":"syntax_and_semantics/type_grammar.md","articles":[]},{"title":"Type reflection","level":"1.5.10","depth":2,"path":"syntax_and_semantics/type_reflection.md","ref":"syntax_and_semantics/type_reflection.md","articles":[{"title":"is_a?","level":"1.5.10.1","depth":3,"path":"syntax_and_semantics/is_a.md","ref":"syntax_and_semantics/is_a.md","articles":[]},{"title":"nil?","level":"1.5.10.2","depth":3,"path":"syntax_and_semantics/nil_question.md","ref":"syntax_and_semantics/nil_question.md","articles":[]},{"title":"responds_to?","level":"1.5.10.3","depth":3,"path":"syntax_and_semantics/responds_to.md","ref":"syntax_and_semantics/responds_to.md","articles":[]},{"title":"as","level":"1.5.10.4","depth":3,"path":"syntax_and_semantics/as.md","ref":"syntax_and_semantics/as.md","articles":[]},{"title":"as?","level":"1.5.10.5","depth":3,"path":"syntax_and_semantics/as_question.md","ref":"syntax_and_semantics/as_question.md","articles":[]},{"title":"typeof","level":"1.5.10.6","depth":3,"path":"syntax_and_semantics/typeof.md","ref":"syntax_and_semantics/typeof.md","articles":[]}]},{"title":"Macros","level":"1.5.11","depth":2,"path":"syntax_and_semantics/macros.md","ref":"syntax_and_semantics/macros.md","articles":[{"title":"Macro methods","level":"1.5.11.1","depth":3,"path":"syntax_and_semantics/macros/macro_methods.md","ref":"syntax_and_semantics/macros/macro_methods.md","articles":[]},{"title":"Hooks","level":"1.5.11.2","depth":3,"path":"syntax_and_semantics/macros/hooks.md","ref":"syntax_and_semantics/macros/hooks.md","articles":[]},{"title":"Fresh variables","level":"1.5.11.3","depth":3,"path":"syntax_and_semantics/macros/fresh_variables.md","ref":"syntax_and_semantics/macros/fresh_variables.md","articles":[]},{"title":"Built-in annotations","level":"1.5.11.4","depth":3,"path":"syntax_and_semantics/annotations/built_in_annotations.md","ref":"syntax_and_semantics/annotations/built_in_annotations.md","articles":[]}]},{"title":"Low-level primitives","level":"1.5.12","depth":2,"path":"syntax_and_semantics/low_level_primitives.md","ref":"syntax_and_semantics/low_level_primitives.md","articles":[{"title":"pointerof","level":"1.5.12.1","depth":3,"path":"syntax_and_semantics/pointerof.md","ref":"syntax_and_semantics/pointerof.md","articles":[]},{"title":"sizeof","level":"1.5.12.2","depth":3,"path":"syntax_and_semantics/sizeof.md","ref":"syntax_and_semantics/sizeof.md","articles":[]},{"title":"instance_sizeof","level":"1.5.12.3","depth":3,"path":"syntax_and_semantics/instance_sizeof.md","ref":"syntax_and_semantics/instance_sizeof.md","articles":[]},{"title":"offsetof","level":"1.5.12.4","depth":3,"path":"syntax_and_semantics/offsetof.md","ref":"syntax_and_semantics/offsetof.md","articles":[]},{"title":"Uninitialized variable declaration","level":"1.5.12.5","depth":3,"path":"syntax_and_semantics/declare_var.md","ref":"syntax_and_semantics/declare_var.md","articles":[]}]},{"title":"Compile-time flags","level":"1.5.13","depth":2,"path":"syntax_and_semantics/compile_time_flags.md","ref":"syntax_and_semantics/compile_time_flags.md","articles":[{"title":"Cross-compilation","level":"1.5.13.1","depth":3,"path":"syntax_and_semantics/cross-compilation.md","ref":"syntax_and_semantics/cross-compilation.md","articles":[]}]},{"title":"C bindings","level":"1.5.14","depth":2,"path":"syntax_and_semantics/c_bindings/README.md","ref":"syntax_and_semantics/c_bindings/README.md","articles":[{"title":"lib","level":"1.5.14.1","depth":3,"path":"syntax_and_semantics/c_bindings/lib.md","ref":"syntax_and_semantics/c_bindings/lib.md","articles":[]},{"title":"fun","level":"1.5.14.2","depth":3,"path":"syntax_and_semantics/c_bindings/fun.md","ref":"syntax_and_semantics/c_bindings/fun.md","articles":[{"title":"out","level":"1.5.14.2.1","depth":4,"path":"syntax_and_semantics/c_bindings/out.md","ref":"syntax_and_semantics/c_bindings/out.md","articles":[]},{"title":"to_unsafe","level":"1.5.14.2.2","depth":4,"path":"syntax_and_semantics/c_bindings/to_unsafe.md","ref":"syntax_and_semantics/c_bindings/to_unsafe.md","articles":[]}]},{"title":"struct","level":"1.5.14.3","depth":3,"path":"syntax_and_semantics/c_bindings/struct.md","ref":"syntax_and_semantics/c_bindings/struct.md","articles":[]},{"title":"union","level":"1.5.14.4","depth":3,"path":"syntax_and_semantics/c_bindings/union.md","ref":"syntax_and_semantics/c_bindings/union.md","articles":[]},{"title":"enum","level":"1.5.14.5","depth":3,"path":"syntax_and_semantics/c_bindings/enum.md","ref":"syntax_and_semantics/c_bindings/enum.md","articles":[]},{"title":"Variables","level":"1.5.14.6","depth":3,"path":"syntax_and_semantics/c_bindings/variables.md","ref":"syntax_and_semantics/c_bindings/variables.md","articles":[]},{"title":"Constants","level":"1.5.14.7","depth":3,"path":"syntax_and_semantics/c_bindings/constants.md","ref":"syntax_and_semantics/c_bindings/constants.md","articles":[]},{"title":"type","level":"1.5.14.8","depth":3,"path":"syntax_and_semantics/c_bindings/type.md","ref":"syntax_and_semantics/c_bindings/type.md","articles":[]},{"title":"alias","level":"1.5.14.9","depth":3,"path":"syntax_and_semantics/c_bindings/alias.md","ref":"syntax_and_semantics/c_bindings/alias.md","articles":[]},{"title":"Callbacks","level":"1.5.14.10","depth":3,"path":"syntax_and_semantics/c_bindings/callbacks.md","ref":"syntax_and_semantics/c_bindings/callbacks.md","articles":[]}]},{"title":"Unsafe code","level":"1.5.15","depth":2,"path":"syntax_and_semantics/unsafe.md","ref":"syntax_and_semantics/unsafe.md","articles":[]}]},"previous":{"title":"HTTP 服务器","level":"1.4.2","depth":2,"path":"overview/http_server.md","ref":"overview/http_server.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"overview/cli.md","mtime":"2020-02-17T09:03:09.537Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2020-02-17T09:03:26.989Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

